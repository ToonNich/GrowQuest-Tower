<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Register</title>
  <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans&display=swap" rel="stylesheet">
  <style>
    body {
      background: url('images/info.gif') no-repeat center center fixed;
      background-size: cover;
      font-family: 'Pixelify Sans', sans-serif;
    }
     /* ‡∏õ‡∏∏‡πà‡∏° back ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á */
     .back-button {
      width: 60px; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏° */
      height: 44px; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏° */
      background: url('images/backButton1.png') no-repeat center center;
      background-size: cover; /* ‡πÉ‡∏´‡πâ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏≤‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏° */
      border: none;
      cursor: pointer; /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô cursor ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∑‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠ hover ‡∏ö‡∏ô‡∏õ‡∏∏‡πà‡∏° */
      position: absolute;
      top: 6%; /* ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
      left: 4%;
      transform: translate(-50%, -50%); /* ‡∏à‡∏±‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
      z-index: 2; /* ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û */
    }
    /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠ hover ‡∏ó‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏° */
    .back-button:hover {
      background: url('images/backButton2.png') no-repeat center center; /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ */
      background-size: cover; /* ‡πÉ‡∏´‡πâ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡πÉ‡∏´‡∏°‡πà‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î */
    }

    /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Å‡∏•‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á bg ‡πÅ‡∏•‡∏∞ sprite */
    .middle-image {
      position: absolute;
      top: 3%;
      left: 50%;
      transform: translateX(-50%);
      width: 70%; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ */
      z-index: 1; /* ‡πÉ‡∏´‡πâ‡∏£‡∏π‡∏õ‡∏Å‡∏•‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á */
    }
    .head-text {
      position: absolute;
      font-size: 30px;
      padding: 10px;
      margin-top: 20px;
      margin-bottom: 20px;
      z-index: 2; /* ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û */
    }
    .input-box {
    position: absolute;
    transform: translate(-50%, -50%);
    width: 45%; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ */
    padding: 8px;
    font-size: 18px;
    border: 0.5px solid #2F6A31;
    border-radius: 10px;
    background-color: #D9FFDA;
    z-index: 2; 
  }

    /* ‡∏õ‡∏∏‡πà‡∏° Register ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á */
    .register-button {
      width: 196px; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏° */
      height: 54px; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏° */
      background: url('images/regisButton1.png') no-repeat center center;
      background-size: cover; /* ‡πÉ‡∏´‡πâ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏≤‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏° */
      border: none;
      cursor: pointer; /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô cursor ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∑‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠ hover ‡∏ö‡∏ô‡∏õ‡∏∏‡πà‡∏° */
      position: absolute;
      top: 80%; /* ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
      left: 50%;
      transform: translate(-50%, -50%); /* ‡∏à‡∏±‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
      z-index: 2; /* ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û */
    }

    /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠ hover ‡∏ó‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏° */
    .register-button:hover {
      background: url('images/regisButton2.png') no-repeat center center; /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ */
      background-size: cover; /* ‡πÉ‡∏´‡πâ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡πÉ‡∏´‡∏°‡πà‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î */
    }
    
    .login-button {
      position: absolute; top: 85%; left: 70%; 
      font-size: 28px;
      text-decoration: underline; 
      background: none; border: none; 
      color: #000; font-family: 'Pixelify Sans', sans-serif;
      z-index: 2;
    }
  </style>
</head>
<body>
  <button class="back-button" onclick="location.href='LoginPage.html'"></button>
  <div>
    <!-- üîΩ ‡∏£‡∏π‡∏õ‡∏Å‡∏•‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á bg ‡πÅ‡∏•‡∏∞ sprite -->
    <img src="images/Scroll 3.png" alt="Middle Layer" class="middle-image">
    <!-- <form action="php/DbForRegister.php" method="post" onsubmit="return validateForm();"> -->
      <form id="registerForm">
      <p class="head-text" style="top: 6%; left: 23%;">Username:</p>
      <input type="text" name="Username" class="input-box" style="top: 20%; left: 49%;" required>
      <p class="head-text" style="top: 22%; left: 23%;">Email:</p>
      <input type="email" name="Email" class="input-box" style="top: 36%; left: 49%;" required> 
      <p class="head-text" style="top: 38%; left: 23%;">Password:</p>
      <input type="password" name="Password" class="input-box" style="top: 52%; left: 49%;" id="password" required>   
      <p class="head-text" style="top: 54%; left: 23%;">Confirm Password:</p>
      <input type="password" name="ConfirmPassword" class="input-box" style="top: 68%; left: 49%;" id="confirmPassword" required>
      <!-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î -->
      <p id="error-msg" style="color: red; font-size: 12px;"></p>
      <div>
        <p class="head-text" style="top: 80%; left: 70%;text-decoration: underline;" onclick="location.href='LoginPage.html'">Login</p>
      </div>
      <!-- ‡∏õ‡∏∏‡πà‡∏° Register ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå .png ‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á -->
      <button type="submit" class="register-button"></button>
    </form>
  </div>
</body>
<script>
  //   function validateForm() {
  //   const password = document.getElementById("password").value;
  //   const confirmPassword = document.getElementById("confirmPassword").value;
  //   const email = document.getElementsByName("Email")[0].value;
    
  //   if (password !== confirmPassword) {
  //     document.getElementById("error-msg").innerText = "‚ùå Password ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô";
  //     return false;
  //   }
  
  //   const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
  //   if (!emailPattern.test(email)) {
  //     document.getElementById("error-msg").innerText = "‚ùå ‡πÇ‡∏õ‡∏£‡∏î‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á";
  //     return false;
  //   }
  //   return true;
  // }
  document.getElementById('registerForm').addEventListener('submit', function (e) {
  e.preventDefault();

  const formData = new FormData(this);
  const password = formData.get("Password");
  const confirmPassword = formData.get("ConfirmPassword");
  const email = formData.get("Email");

  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö form
  if (password !== confirmPassword) {
    document.getElementById("error-msg").innerText = "‚ùå Password ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô";
    return;
  }

  const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
  if (!emailPattern.test(email)) {
    document.getElementById("error-msg").innerText = "‚ùå ‡πÇ‡∏õ‡∏£‡∏î‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á";
    return;
  }

  // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö fetch
  fetch("php/DbForRegister.php", {
    method: "POST",
    body: formData
  })
  .then(response => {
    if (response.ok) {
      window.location.href = "LoginPage.html"; // ‚úÖ redirect ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Login
    } else {
      document.getElementById("error-msg").innerText = "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡∏ì‡∏∞‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô";
    }
  })
  .catch(error => {
    document.getElementById("error-msg").innerText = "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡∏ì‡∏∞‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•";
  });
});
</script>
</html>
